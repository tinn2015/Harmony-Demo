"use strict";var he=Object.defineProperty;var se=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var ie=(_,w,p)=>w in _?he(_,w,{enumerable:!0,configurable:!0,writable:!0,value:p}):_[w]=p,ue=(_,w)=>{for(var p in w||(w={}))ce.call(w,p)&&ie(_,p,w[p]);if(se)for(var p of se(w))ae.call(w,p)&&ie(_,p,w[p]);return _};var le=(_,w)=>{var p={};for(var O in _)ce.call(_,O)&&w.indexOf(O)<0&&(p[O]=_[O]);if(_!=null&&se)for(var O of se(_))w.indexOf(O)<0&&ae.call(_,O)&&(p[O]=_[O]);return p};(self.webpackChunkweb_join=self.webpackChunkweb_join||[]).push([[866],{45809:function(_,w,p){p.r(w),p.d(w,{default:function(){return B}});var O=p(86949),H=p(97857);function M(r,t,e,n){let o=r[t];return subscribe(r,()=>{const f=r[t];Object.is(o,f)||e(o=f)},n)}let R;function q(r,t){let e=!0;const n=new Set,o=new Map,f=()=>{e&&(e=!1,n.forEach(u=>u()),n.clear(),o.forEach(u=>u()),o.clear())},P=()=>{if(!e)return;n.forEach(T=>T()),n.clear();const u=new Set,m=R;R=n;try{const T=r(V=>(u.add(V),V));T&&n.add(T)}finally{R=m}o.forEach((T,V)=>{u.has(V)?u.delete(V):(o.delete(V),T())}),u.forEach(T=>{const V=subscribe(T,P,t==null?void 0:t.sync);o.set(T,V)})};return R&&R.add(f),P(),f}const F=Symbol();function Q(r,t){typeof t=="string"&&(console.warn("string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400"),t={name:t});const V=t||{},{enabled:e,name:n=""}=V,o=le(V,["enabled","name"]);let f;try{f=(e!=null?e:!0)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(S){}if(!f){e&&console.warn("[Warning] Please install/enable Redux devtools extension");return}let P=!1;const u=f.connect(ue({name:n},o)),m=subscribe(r,S=>{const G=S.filter(([b,K])=>K[0]!==F).map(([b,K])=>`${b}:${K.map(String).join(".")}`).join(", ");if(G)if(P)P=!1;else{const b=Object.assign({},snapshot(r));delete b[F],u.send({type:G,updatedAt:new Date().toLocaleString()},b)}}),T=u.subscribe(S=>{var G,b,K,ee,te,ne;if(S.type==="ACTION"&&S.payload)try{Object.assign(r,JSON.parse(S.payload))}catch(re){console.error(`please dispatch a serializable value that JSON.parse() and proxy() support
`,re)}if(S.type==="DISPATCH"&&S.state){if(((G=S.payload)==null?void 0:G.type)==="JUMP_TO_ACTION"||((b=S.payload)==null?void 0:b.type)==="JUMP_TO_STATE"){P=!0;const re=JSON.parse(S.state);Object.assign(r,re)}r[F]=S}else if(S.type==="DISPATCH"&&((K=S.payload)==null?void 0:K.type)==="COMMIT")u.init(snapshot(r));else if(S.type==="DISPATCH"&&((ee=S.payload)==null?void 0:ee.type)==="IMPORT_STATE"){const re=(te=S.payload.nextLiftedState)==null?void 0:te.actionsById,fe=((ne=S.payload.nextLiftedState)==null?void 0:ne.computedStates)||[];P=!0,fe.forEach(({state:de},oe)=>{const pe=re[oe]||"No action found";Object.assign(r,de),oe===0?u.init(snapshot(r)):u.send(pe,snapshot(r))})}});return u.init(snapshot(r)),()=>{m(),T==null||T()}}const W=new WeakMap,E=new WeakMap,Z=(r,t)=>{const e=W.get(r);e&&(e[0].forEach(n=>{const{d:o}=n;r!==o&&Z(o)}),++e[2],t&&e[3].add(t))},N=(r,t)=>{const e=W.get(r);return e!=null&&e[2]?(e[3].add(t),!0):!1},J=r=>{const t=W.get(r);t&&(--t[2],t[2]||(t[3].forEach(e=>e()),t[3].clear()),t[0].forEach(e=>{const{d:n}=e;r!==n&&J(n)}))},y=r=>{const{s:t,d:e}=r;let n=E.get(e);n||(n=[new Set],E.set(r.d,n)),n[0].add(r);let o=W.get(t);if(!o){const f=new Set,P=(0,O.Ld)(t,u=>{f.forEach(m=>{const{d:T,c:V,n:S,i:G}=m;t===T&&u.every(b=>b[1].length===1&&G.includes(b[1][0]))||m.p||(Z(t,V),S?J(t):m.p=Promise.resolve().then(()=>{delete m.p,J(t)}))})},!0);o=[f,P,0,new Set],W.set(t,o)}o[0].add(r)},x=r=>{const{s:t,d:e}=r,n=E.get(e);n==null||n[0].delete(r),(n==null?void 0:n[0].size)===0&&E.delete(e);const o=W.get(t);if(o){const[f,P]=o;f.delete(r),f.size||(P(),W.delete(t))}},U=r=>{const t=E.get(r);return t?Array.from(t[0]):[]},X={add:y,remove:x,list:U};function z(r,t){const e=(t==null?void 0:t.proxy)||proxy({}),n=!!(t!=null&&t.sync),o=Object.keys(r);return o.forEach(f=>{if(Object.getOwnPropertyDescriptor(e,f))throw new Error("object property already defined");const P=r[f];let u=null;const m=()=>{if(u&&(Array.from(u).map(([b])=>N(b,m)).some(b=>b)||Array.from(u).every(([b,K])=>getVersion(b)===K.v)))return;const T=new Map,S=P(b=>(T.set(b,{v:getVersion(b)}),b)),G=()=>{T.forEach((b,K)=>{var ee;const te=(ee=u==null?void 0:u.get(K))==null?void 0:ee.s;if(te)b.s=te;else{const ne={s:K,d:e,k:f,c:m,n,i:o};y(ne),b.s=ne}}),u==null||u.forEach((b,K)=>{!T.has(K)&&b.s&&x(b.s)}),u=T};S instanceof Promise?S.finally(G):G(),e[f]=S};m()}),e}function $(r,t){const e=t!=null&&t.delete?new Set:null;U(r).forEach(n=>{const{k:o}=n;(!(t!=null&&t.keys)||t.keys.includes(o))&&(x(n),e&&e.add(o))}),e&&e.forEach(n=>{delete r[n]})}function i(r,t,e=r){console.warn("addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201");const n={};return Object.keys(t).forEach(o=>{n[o]=f=>t[o](f(r))}),z(n,{proxy:e})}function d(r,t){console.warn('proxyWithComputed is deprecated. Please follow "Computed Properties" guide in docs.'),Object.keys(t).forEach(n=>{if(Object.getOwnPropertyDescriptor(r,n))throw new Error("object property already defined");const o=t[n],{get:f,set:P}=typeof o=="function"?{get:o}:o,u={};u.get=()=>f(snapshot(e)),P&&(u.set=m=>P(e,m)),Object.defineProperty(r,n,u)});const e=proxy(r);return e}const k=r=>typeof r=="object"&&r!==null;let s;const v=r=>{if(s||(s=unstable_buildProxyFunction()[2]),!k(r)||s.has(r))return r;const t=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r));return Reflect.ownKeys(r).forEach(e=>{t[e]=v(r[e])}),t};function l(r,t=!1){const e=proxy({value:r,history:ref({wip:void 0,snapshots:[],index:-1}),clone:v,canUndo:()=>e.history.index>0,undo:()=>{e.canUndo()&&(e.value=e.history.wip=e.clone(e.history.snapshots[--e.history.index]))},canRedo:()=>e.history.index<e.history.snapshots.length-1,redo:()=>{e.canRedo()&&(e.value=e.history.wip=e.clone(e.history.snapshots[++e.history.index]))},saveHistory:()=>{e.history.snapshots.splice(e.history.index+1),e.history.snapshots.push(snapshot(e).value),++e.history.index},subscribe:()=>subscribe(e,n=>{n.every(o=>o[1][0]==="value"&&(o[0]!=="set"||o[2]!==e.history.wip))&&e.saveHistory()})});return e.saveHistory(),t||e.subscribe(),e}function c(r){const t=proxy({data:Array.from(new Set(r)),has(e){return this.data.indexOf(e)!==-1},add(e){let n=!1;return typeof e=="object"&&e!==null&&(n=this.data.indexOf(proxy(e))!==-1),this.data.indexOf(e)===-1&&!n&&this.data.push(e),this},delete(e){const n=this.data.indexOf(e);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},forEach(e){this.data.forEach(n=>{e(n,n,this)})},get[Symbol.toStringTag](){return"Set"},toJSON(){return new Set(this.data)},[Symbol.iterator](){return this.data[Symbol.iterator]()},values(){return this.data.values()},keys(){return this.data.values()},entries(){return new Set(this.data).entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}function a(r){const t=(0,O.sj)({data:Array.from(r||[]),has(e){return this.data.some(n=>n[0]===e)},set(e,n){const o=this.data.find(f=>f[0]===e);return o?o[1]=n:this.data.push([e,n]),this},get(e){var n;return(n=this.data.find(o=>o[0]===e))==null?void 0:n[1]},delete(e){const n=this.data.findIndex(o=>o[0]===e);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(e){this.data.forEach(n=>{e(n[1],n[0],this)})},keys(){return this.data.map(e=>e[0]).values()},values(){return this.data.map(e=>e[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}var h=(0,O.sj)({txt:"web\u5165\u4F1A",count:0,obj:null}),A=function(){h.count++},g=function(t){h.obj=_objectSpread(_objectSpread({},h.obj),t)},D=a([]),j=function(t,e){C.testmap.set(t,e)},C=(0,O.sj)({user:{},testmap:a()}),I=function(t){C.user=_objectSpread(_objectSpread({},C.user),t)},L=p(67294),Y=p(85893);function B(){(0,L.useEffect)(function(){var t=(0,O.Ld)(C,function(e){console.log("ops | ",e)});return function(){return t()}},[]);var r=function(){j("a","a-1")};return(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{onClick:r,children:"\u66F4\u65B0 obj"})})}},72478:function(_,w,p){p.d(w,{DM:function(){return J},h8:function(){return z},jc:function(){return X},ln:function(){return y},o5:function(){return U}});const O=Symbol(),H=Symbol(),M="a",R="w";let q=(i,d)=>new Proxy(i,d);const F=Object.getPrototypeOf,Q=new WeakMap,W=i=>i&&(Q.has(i)?Q.get(i):F(i)===Object.prototype||F(i)===Array.prototype),E=i=>typeof i=="object"&&i!==null,Z=i=>{if(Array.isArray(i))return Array.from(i);const d=Object.getOwnPropertyDescriptors(i);return Object.values(d).forEach(k=>{k.configurable=!0}),Object.create(F(i),d)},N=i=>i[H]||i,J=(i,d,k,s)=>{if(!W(i))return i;let v=s&&s.get(i);if(!v){const h=N(i);v=(A=>Object.values(Object.getOwnPropertyDescriptors(A)).some(g=>!g.configurable&&!g.writable))(h)?[h,Z(h)]:[h],s==null||s.set(i,v)}const[l,c]=v;let a=k&&k.get(l);return a&&a[1].f===!!c||(a=((h,A)=>{const g={f:A};let D=!1;const j=(I,L)=>{if(!D){let Y=g[M].get(h);if(Y||(Y={},g[M].set(h,Y)),I===R)Y[R]=!0;else{let B=Y[I];B||(B=new Set,Y[I]=B),B.add(L)}}},C={get:(I,L)=>L===H?h:(j("k",L),J(Reflect.get(I,L),g[M],g.c,g.t)),has:(I,L)=>L===O?(D=!0,g[M].delete(h),!0):(j("h",L),Reflect.has(I,L)),getOwnPropertyDescriptor:(I,L)=>(j("o",L),Reflect.getOwnPropertyDescriptor(I,L)),ownKeys:I=>(j(R),Reflect.ownKeys(I))};return A&&(C.set=C.deleteProperty=()=>!1),[C,g]})(l,!!c),a[1].p=q(c||l,a[0]),k&&k.set(l,a)),a[1][M]=d,a[1].c=k,a[1].t=s,a[1].p},y=(i,d,k,s)=>{if(Object.is(i,d))return!1;if(!E(i)||!E(d))return!0;const v=k.get(N(i));if(!v)return!0;if(s){const c=s.get(i);if(c&&c.n===d)return c.g;s.set(i,{n:d,g:!1})}let l=null;try{for(const c of v.h||[])if(l=Reflect.has(i,c)!==Reflect.has(d,c),l)return l;if(v[R]===!0){if(l=((c,a)=>{const h=Reflect.ownKeys(c),A=Reflect.ownKeys(a);return h.length!==A.length||h.some((g,D)=>g!==A[D])})(i,d),l)return l}else for(const c of v.o||[])if(l=!!Reflect.getOwnPropertyDescriptor(i,c)!=!!Reflect.getOwnPropertyDescriptor(d,c),l)return l;for(const c of v.k||[])if(l=y(i[c],d[c],k,s),l)return l;return l===null&&(l=!0),l}finally{s&&s.set(i,{n:d,g:l})}},x=i=>!!W(i)&&O in i,U=i=>W(i)&&i[H]||null,X=(i,d=!0)=>{Q.set(i,d)},z=(i,d,k)=>{const s=[],v=new WeakSet,l=(c,a)=>{if(v.has(c))return;E(c)&&v.add(c);const h=E(c)&&d.get(N(c));if(h){var A,g;if((A=h.h)==null||A.forEach(j=>{const C=`:has(${String(j)})`;s.push(a?[...a,C]:[C])}),h[R]===!0){const j=":ownKeys";s.push(a?[...a,j]:[j])}else{var D;(D=h.o)==null||D.forEach(j=>{const C=`:hasOwn(${String(j)})`;s.push(a?[...a,C]:[C])})}(g=h.k)==null||g.forEach(j=>{k&&!("value"in(Object.getOwnPropertyDescriptor(c,j)||{}))||l(c[j],a?[...a,j]:[j])})}else a&&s.push(a)};return l(i),s},$=i=>{q=i}},75251:function(_,w,p){var O=p(67294),H=Symbol.for("react.element"),M=Symbol.for("react.fragment"),R=Object.prototype.hasOwnProperty,q=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F={key:!0,ref:!0,__self:!0,__source:!0};function Q(W,E,Z){var N,J={},y=null,x=null;Z!==void 0&&(y=""+Z),E.key!==void 0&&(y=""+E.key),E.ref!==void 0&&(x=E.ref);for(N in E)R.call(E,N)&&!F.hasOwnProperty(N)&&(J[N]=E[N]);if(W&&W.defaultProps)for(N in E=W.defaultProps,E)J[N]===void 0&&(J[N]=E[N]);return{$$typeof:H,type:W,key:y,ref:x,props:J,_owner:q.current}}w.Fragment=M,w.jsx=Q,w.jsxs=Q},85893:function(_,w,p){_.exports=p(75251)},86949:function(_,w,p){p.d(w,{CO:function(){return Z},Ld:function(){return E},iH:function(){return N},sj:function(){return Q}});var O=p(72478);const H=y=>typeof y=="object"&&y!==null,M=new WeakMap,R=new WeakSet,q=(y=Object.is,x=(s,v)=>new Proxy(s,v),U=s=>H(s)&&!R.has(s)&&(Array.isArray(s)||!(Symbol.iterator in s))&&!(s instanceof WeakMap)&&!(s instanceof WeakSet)&&!(s instanceof Error)&&!(s instanceof Number)&&!(s instanceof Date)&&!(s instanceof String)&&!(s instanceof RegExp)&&!(s instanceof ArrayBuffer),X=s=>{switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s}},z=new WeakMap,$=(s,v,l=X)=>{const c=z.get(s);if((c==null?void 0:c[0])===v)return c[1];const a=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return(0,O.jc)(a,!0),z.set(s,[v,a]),Reflect.ownKeys(s).forEach(h=>{if(Object.getOwnPropertyDescriptor(a,h))return;const A=Reflect.get(s,h),g={value:A,enumerable:!0,configurable:!0};if(R.has(A))(0,O.jc)(A,!1);else if(A instanceof Promise)delete g.value,g.get=()=>l(A);else if(M.has(A)){const[D,j]=M.get(A);g.value=$(D,j(),l)}Object.defineProperty(a,h,g)}),Object.preventExtensions(a)},i=new WeakMap,d=[1,1],k=s=>{if(!H(s))throw new Error("object required");const v=i.get(s);if(v)return v;let l=d[0];const c=new Set,a=(t,e=++d[0])=>{l!==e&&(l=e,c.forEach(n=>n(t,e)))};let h=d[1];const A=(t=++d[1])=>(h!==t&&!c.size&&(h=t,D.forEach(([e])=>{const n=e[1](t);n>l&&(l=n)})),l),g=t=>(e,n)=>{const o=[...e];o[1]=[t,...o[1]],a(o,n)},D=new Map,j=(t,e)=>{if(D.has(t))throw new Error("prop listener already exists");if(c.size){const n=e[3](g(t));D.set(t,[e,n])}else D.set(t,[e])},C=t=>{var e;const n=D.get(t);n&&(D.delete(t),(e=n[1])==null||e.call(n))},I=t=>(c.add(t),c.size===1&&D.forEach(([n,o],f)=>{if(o)throw new Error("remove already exists");const P=n[3](g(f));D.set(f,[n,P])}),()=>{c.delete(t),c.size===0&&D.forEach(([n,o],f)=>{o&&(o(),D.set(f,[n]))})}),L=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),B=x(L,{deleteProperty(t,e){const n=Reflect.get(t,e);C(e);const o=Reflect.deleteProperty(t,e);return o&&a(["delete",[e],n]),o},set(t,e,n,o){const f=Reflect.has(t,e),P=Reflect.get(t,e,o);if(f&&(y(P,n)||i.has(n)&&y(P,i.get(n))))return!0;C(e),H(n)&&(n=(0,O.o5)(n)||n);let u=n;if(n instanceof Promise)n.then(m=>{n.status="fulfilled",n.value=m,a(["resolve",[e],m])}).catch(m=>{n.status="rejected",n.reason=m,a(["reject",[e],m])});else{!M.has(n)&&U(n)&&(u=k(n));const m=!R.has(u)&&M.get(u);m&&j(e,m)}return Reflect.set(t,e,u,o),a(["set",[e],n,P]),!0}});i.set(s,B);const r=[L,A,$,I];return M.set(B,r),Reflect.ownKeys(s).forEach(t=>{const e=Object.getOwnPropertyDescriptor(s,t);"value"in e&&(B[t]=s[t],delete e.value,delete e.writable),Object.defineProperty(L,t,e)}),B})=>[k,M,R,y,x,U,X,z,$,i,d],[F]=q();function Q(y={}){return F(y)}function W(y){const x=M.get(y);return x==null?void 0:x[1]()}function E(y,x,U){const X=M.get(y);X||console.warn("Please use proxy object");let z;const $=[],i=X[3];let d=!1;const s=i(v=>{if($.push(v),U){x($.splice(0));return}z||(z=Promise.resolve().then(()=>{z=void 0,d&&x($.splice(0))}))});return d=!0,()=>{d=!1,s()}}function Z(y,x){const U=M.get(y);U||console.warn("Please use proxy object");const[X,z,$]=U;return $(X,z(),x)}function N(y){return R.add(y),y}const J=null}}]);
